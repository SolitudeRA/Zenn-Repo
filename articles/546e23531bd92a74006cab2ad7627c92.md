---
title: "ãƒ›ãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼å®Œå…¨æ§‹ç¯‰ã‚¬ã‚¤ãƒ‰ #6 ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®æ§‹ç¯‰"
emoji: "ğŸŒƒ"
type: "tech"
topics:
  - "Linux"
  - "nginx"
  - "homeserver"
  - "nextcloud"
published: true
---


# ã¯ã˜ã‚ã«

**ãƒ›ãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼å®Œå…¨æ§‹ç¯‰ã‚¬ã‚¤ãƒ‰**ã‚·ãƒªãƒ¼ã‚ºã¸ã‚ˆã†ã“ãã€‚ã“ã®ã‚·ãƒªãƒ¼ã‚ºã§ã¯ã€ãƒ›ãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã‚’æ´»ç”¨ã—ãŸã•ã¾ã–ã¾ãªã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚ä»Šå›ã¯ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ã‚’é‡è¦–ã—ãŸã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«ã€**Nextcloud** ã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚

Google Drive ã‚„ Dropbox ãªã©ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¯ä¾¿åˆ©ã§ã™ãŒã€ãƒ‡ãƒ¼ã‚¿ãŒå¤–éƒ¨ã‚µãƒ¼ãƒãƒ¼ã«ä¿å­˜ã•ã‚Œã‚‹ãŸã‚ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«ä¸å®‰ã‚’æ„Ÿã˜ã‚‹æ–¹ã‚‚å°‘ãªãã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€ã“ã‚Œã‚‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®åˆ¶ç´„ãŒã‚ã‚Šã€ç‰¹å®šã®ç”¨é€”ã‚„ãƒ‹ãƒ¼ã‚ºã«å®Œå…¨ã«å¯¾å¿œã§ããªã„å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚ä¸€æ–¹ã§ã€**Nextcloud** ã‚’ä½¿ç”¨ã™ã‚Œã°ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¨åŒç­‰ã®åˆ©ä¾¿æ€§ã‚’ä¿ã¡ãªãŒã‚‰ã€ãƒ‡ãƒ¼ã‚¿ã‚’å®Œå…¨ã«è‡ªåˆ†ã®ã‚µãƒ¼ãƒãƒ¼ã§ç®¡ç†ã§ãã€è‡ªç”±åº¦ã®é«˜ã„ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¯èƒ½ã§ã™ã€‚

ä»Šå›ã®è¨˜äº‹ã§ã¯ã€**Nginx** ã‚’ Web ã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦æ¡ç”¨ã—ã€æä¾›ã„ãŸã ã„ãŸ Nginx ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ´»ç”¨ã—ã¾ã™ã€‚ã“ã®è¨­å®šã¯ã€**Cloudflare** ã‚’ DNS ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¯ä¿¡é ¼æ€§ã®é«˜ã„ **MySQL** ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

# ä»Šå›ã®ã‚´ãƒ¼ãƒ«

1. **Nextcloud ã®å°å…¥**ï¼šãƒ›ãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã« Nextcloud ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å‹•ä½œã•ã›ã‚‹
2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®š**ï¼šMySQL ã‚’ä½¿ç”¨ã—ã¦ Nextcloud ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†
3. **Nginx ã®è¨­å®š**ï¼šCloudflare ã‚’å‰æã¨ã—ãŸ Nginx è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é©ç”¨
4. **ã‚»ã‚­ãƒ¥ã‚¢ãªé€šä¿¡ã®è¨­å®š**ï¼šLet's Encrypt ã‚’ä½¿ã£ã¦ HTTPS é€šä¿¡ã‚’å®Ÿç¾
5. **é‹ç”¨ã®é–‹å§‹**ï¼šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚„æ©Ÿèƒ½æ‹¡å¼µ

# æº–å‚™

## å¿…è¦ãªç’°å¢ƒ

- **ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒ**ï¼š
  - **OS**ï¼šUbuntu Server 22.04ï¼ˆæ¨å¥¨ï¼‰
  - **CPU & ãƒ¡ãƒ¢ãƒª**ï¼šæœ€ä½ 2ã‚³ã‚¢ / 2GB RAMï¼ˆæ¨å¥¨ 4ã‚³ã‚¢ / 4GB RAM ä»¥ä¸Šï¼‰
  - **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**ï¼šå¿…è¦ãªå®¹é‡ã«å¿œã˜ã¦è¨­å®šï¼ˆSSD æ¨å¥¨ï¼‰
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒ**ï¼š
  - ãƒ‰ãƒ¡ã‚¤ãƒ³åï¼ˆä¾‹ï¼š`example.com`ï¼‰ãŒåˆ©ç”¨å¯èƒ½
  - ã‚µãƒ¼ãƒãƒ¼ãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãª IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒã£ã¦ã„ã‚‹ã“ã¨
- **DNS è¨­å®š**ï¼š
  - **Cloudflare** ã‚’ DNS ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¨ã—ã¦ä½¿ç”¨ã—ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¨­å®š

## å¿…è¦ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

ã¾ãšã€ã‚·ã‚¹ãƒ†ãƒ ã‚’æœ€æ–°ã®çŠ¶æ…‹ã«æ›´æ–°ã—ã¾ã™ã€‚

```bash
sudo apt update && sudo apt upgrade -y
```

### Nginx ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Nginxã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯<<<ãƒ›ãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼å®Œå…¨æ§‹ç¯‰ã‚¬ã‚¤ãƒ‰ #2 ã‚¤ãƒ³ãƒ•ãƒ©ã®æ§‹ç¯‰>>>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### PHP ãŠã‚ˆã³é–¢é€£ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Nextcloud ã«å¿…è¦ãª PHP ã¨ãã®æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
sudo apt install php-fpm php-mysql php-xml php-mbstring php-curl php-zip php-gd php-intl php-bcmath php-gmp php-imagick -y
```

PHP-FPM ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚

```bash
php -v
```

### MySQL ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨åˆæœŸè¨­å®š

MySQLã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŠã‚ˆã³åˆæœŸè¨­å®šã¯<<<ãƒ›ãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼å®Œå…¨æ§‹ç¯‰ã‚¬ã‚¤ãƒ‰ #2 ã‚¤ãƒ³ãƒ•ãƒ©ã®æ§‹ç¯‰>>>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

# Nextcloud ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

## Nextcloud ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

Nextcloud ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

```bash
wget https://download.nextcloud.com/server/releases/latest.tar.bz2
```

## ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã®è§£å‡

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£å‡ã—ã€é©åˆ‡ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¾ã™ã€‚

```bash
tar -xjf latest.tar.bz2
sudo mv nextcloud /var/www/
```

## æ¨©é™ã®è¨­å®š

Nextcloud ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é©åˆ‡ãªæ¨©é™ã‚’è¨­å®šã—ã¾ã™ã€‚

```bash
sudo chown -R www-data:www-data /var/www/nextcloud
sudo chmod -R 755 /var/www/nextcloud
```

---

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®š

MySQL ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å…¥ã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```bash
sudo mysql -u root -p
```

ä»¥ä¸‹ã® SQL ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```sql
CREATE DATABASE nextcloud CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
CREATE USER 'nextclouduser'@'localhost' IDENTIFIED WITH mysql_native_password BY 'ã‚ãªãŸã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰';
GRANT ALL PRIVILEGES ON nextcloud.* TO 'nextclouduser'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

---

# Nginx ã®è¨­å®š

## Nginx è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†

æä¾›ã„ãŸã ã„ãŸ Nginx ã®è¨­å®šã‚’é©ç”¨ã—ã¾ã™ã€‚ã“ã®è¨­å®šã¯ **Cloudflare** ã‚’ DNS ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã¾ã™ã€‚

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã¾ãŸã¯ç·¨é›†ã—ã¾ã™ã€‚

```bash
sudo nano /etc/nginx/sites-available/nextcloud.conf
```

ä»¥ä¸‹ã®å†…å®¹ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ï¼ˆå¿…è¦ã«å¿œã˜ã¦ãƒ‘ã‚¹ã‚„ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’èª¿æ•´ã—ã¦ãã ã•ã„ï¼‰ã€‚

```nginx
upstream php-handler {
    server unix:/run/php/php8.1-fpm.sock;
}

# Cloudflare ã‚’ DNS ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¨ã—ã¦åˆ©ç”¨

server {
    listen 80;
    listen [::]:80;

    server_name cloud.example.com;

    server_tokens off;

    include /etc/nginx/trust_source/cloudflare;
    deny all;

    access_log /var/log/nginx/nextcloud/access80.log;
    error_log /var/log/nginx/nextcloud/error80.log;

    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;

    server_name cloud.example.com;

    server_tokens off;

    # å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’è¨±å¯
    allow 172.19.0.0/16;

    include /etc/nginx/trust_source/cloudflare;
    deny all;

    ssl_certificate     /etc/ssl/your_ssl_cert.pem;
    ssl_certificate_key /etc/ssl/your_ssl_key.key;
    ssl_session_timeout 1d;
    ssl_session_cache shared:MozSSL:10m;
    ssl_session_tickets off;

    ssl_dhparam /etc/ssl/dhparam.pem;

    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:...';
    ssl_prefer_server_ciphers off;

    add_header Strict-Transport-Security "max-age=63072000" always;

    ssl_stapling on;
    ssl_stapling_verify on;

    ssl_trusted_certificate /etc/ssl/your_trusted_cert.pem;

    resolver 1.1.1.1;

    access_log /var/log/nginx/nextcloud/access443.log;
    error_log /var/log/nginx/nextcloud/error443.log;

    root /var/www/nextcloud;

    index index.php index.html /index.php$request_uri;

    client_max_body_size 512M;
    client_body_timeout 300s;
    fastcgi_buffers 64 4K;

    gzip on;
    gzip_vary on;
    gzip_comp_level 4;
    gzip_min_length 256;
    gzip_proxied expired no-cache no-store private no_last_modified no_etag auth;
    gzip_types application/atom+xml text/javascript application/javascript application/json application/ld+json application/manifest+json application/rss+xml application/vnd.geo+json application/vnd.ms-fontobject application/wasm application/x-font-ttf application/x-web-app-manifest+json application/xhtml+xml application/xml font/opentype image/bmp image/svg+xml image/x-icon text/cache-manifest text/css text/plain text/vcard text/vnd.rim.location.xloc text/vtt text/x-component text/x-cross-domain-policy;

    client_body_buffer_size 512k;

    add_header Referrer-Policy                   "no-referrer"       always;
    add_header X-Content-Type-Options            "nosniff"           always;
    add_header X-Frame-Options                   "SAMEORIGIN"        always;
    add_header X-Permitted-Cross-Domain-Policies "none"              always;
    add_header X-Robots-Tag                      "noindex, nofollow" always;
    add_header X-XSS-Protection                  "1; mode=block"     always;

    fastcgi_hide_header X-Powered-By;

    include mime.types;
    types {
        application/javascript mjs;
    }

    location = / {
        if ( $http_user_agent ~ ^DavClnt ) {
            return 302 /remote.php/webdav/$is_args$args;
        }
    }

    location = /robots.txt {
        allow all;
        log_not_found off;
        access_log off;
    }

    location ^~ /.well-known {
        location = /.well-known/carddav { return 301 /remote.php/dav/; }
        location = /.well-known/caldav  { return 301 /remote.php/dav/; }

        location /.well-known/acme-challenge    { try_files $uri $uri/ =404; }
        location /.well-known/pki-validation    { try_files $uri $uri/ =404; }

        return 301 /index.php$request_uri;
    }

    location ~ ^/(?:build|tests|config|lib|3rdparty|templates|data)(?:$|/)  { return 404; }

    location ~ ^/(?:\.|autotest|occ|issue|indie|db_|console)                { return 404; }

    location ~ \.php(?:$|/) {
        rewrite ^/(?!index|remote|public|cron|core\/ajax\/update|status|ocs\/v[12]|updater\/.+|ocs-provider\/.+|.+\/richdocumentscode\/proxy) /index.php$request_uri;

        fastcgi_split_path_info ^(.+?\.php)(/.*)$;
        set $path_info $fastcgi_path_info;

        try_files $fastcgi_script_name =404;

        include fastcgi_params;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param PATH_INFO $path_info;
        fastcgi_param HTTPS on;

        fastcgi_param modHeadersAvailable true;
        fastcgi_param front_controller_active true;
        fastcgi_pass php-handler;

        fastcgi_intercept_errors on;
        fastcgi_request_buffering off;

        fastcgi_max_temp_file_size 0;
    }

    location ~ \.(?:css|js|mjs|svg|gif|png|jpg|ico|wasm|tflite|map|ogg|flac)$ {
        try_files $uri /index.php$request_uri;
        add_header Cache-Control "public, max-age=15778463, $asset_immutable";
        access_log off;

        location ~ \.wasm$ {
            default_type application/wasm;
        }
    }

    location ~ \.woff2?$ {
        try_files $uri /index.php$request_uri;
        expires 7d;
        access_log off;
    }

    location /remote {
        return 301 /remote.php$request_uri;
    }

    location / {
        try_files $uri $uri/ /index.php$request_uri;
    }
}
```

**æ³¨æ„**ï¼š

- `server_name` ã¯ã‚ãªãŸã®ãƒ‰ãƒ¡ã‚¤ãƒ³åã«å¤‰æ›´ã—ã¦ãã ã•ã„ï¼ˆä¾‹ï¼š`cloud.example.com`ï¼‰ã€‚
- `ssl_certificate` ã¨ `ssl_certificate_key` ã®ãƒ‘ã‚¹ã¯ã€ã‚ãªãŸã® SSL è¨¼æ˜æ›¸ã®ãƒ‘ã‚¹ã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚
- `include /etc/nginx/trust_source/cloudflare;` ã¯ **Cloudflare** ã‚’ DNS ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¨ã—ã¦ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã«æœ‰åŠ¹ã§ã™ã€‚

## Nginx è¨­å®šã®æœ‰åŠ¹åŒ–ã¨ãƒ†ã‚¹ãƒˆ

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã—ã€ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ä½œæˆã—ã¦ã‚µã‚¤ãƒˆã‚’æœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚

```bash
sudo ln -s /etc/nginx/sites-available/nextcloud.conf /etc/nginx/sites-enabled/
```

Nginx ã®è¨­å®šã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚

```bash
sudo nginx -t
```

å•é¡ŒãŒãªã‘ã‚Œã°ã€Nginx ã‚’å†èµ·å‹•ã—ã¾ã™ã€‚

```bash
sudo systemctl restart nginx
```

---

# Let's Encrypt ã«ã‚ˆã‚‹ HTTPS ã®è¨­å®š

## Certbot ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Let's Encrypt ã® Certbot ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
sudo apt install certbot python3-certbot-nginx -y
```

## SSL è¨¼æ˜æ›¸ã®å–å¾—ã¨é©ç”¨

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å¾“ã£ã¦è¨­å®šã—ã¾ã™ã€‚

```bash
sudo certbot --nginx -d cloud.example.com
```

## SSL è¨¼æ˜æ›¸ã®è‡ªå‹•æ›´æ–°ç¢ºèª

Certbot ã®è‡ªå‹•æ›´æ–°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚

```bash
sudo certbot renew --dry-run
```

---

# Nextcloud ã® Web è¨­å®š

ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã® URL ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

```
https://cloud.example.com
```

## ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆ

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å**ï¼šä»»æ„ã®ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼å
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**ï¼šå¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š

- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ç¨®é¡**ï¼šMySQL
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å**ï¼š`nextcloud`
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¦ãƒ¼ã‚¶ãƒ¼å**ï¼š`nextclouduser`
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**ï¼šå…ˆã»ã©è¨­å®šã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ›ã‚¹ãƒˆ**ï¼š`localhost`

ã™ã¹ã¦å…¥åŠ›ã—ãŸã‚‰ã€ã€Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

---

# Nextcloud ã®é‹ç”¨é–‹å§‹

## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

- **ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**ï¼š[å…¬å¼ã‚µã‚¤ãƒˆ](https://nextcloud.com/install/#install-clients)ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- **ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª**ï¼šApp Store ã‚„ Google Play ã‹ã‚‰å…¥æ‰‹å¯èƒ½

## ã‚¢ãƒ—ãƒªã®è¿½åŠ 

Nextcloud å†…ã®ã€Œã‚¢ãƒ—ãƒªã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰ã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚„ã‚¿ã‚¹ã‚¯ç®¡ç†ãªã©ã®ã‚¢ãƒ—ãƒªã‚’è¿½åŠ ã§ãã¾ã™ã€‚

## ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®è¨­å®š

å®šæœŸçš„ãªãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’è¨­å®šã—ã€ãƒ‡ãƒ¼ã‚¿ã®å®‰å…¨æ€§ã‚’ç¢ºä¿ã—ã¾ã™ã€‚

---

# ã¾ã¨ã‚

ä»Šå›ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€ãƒ›ãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã« **Nextcloud** ã‚’å°å…¥ã—ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’é‡è¦–ã—ãŸã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚**Nginx** ã‚’ä½¿ç”¨ã—ã€Cloudflare ã‚’å‰æã¨ã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã§ã€é«˜æ€§èƒ½ã‹ã¤ã‚»ã‚­ãƒ¥ã‚¢ãªã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿç¾ã—ã¾ã—ãŸã€‚ã¾ãŸã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¯ **MySQL** ã‚’ä½¿ç”¨ã—ã€å®‰å®šã—ãŸãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚’è¡Œã„ã¾ã—ãŸã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªåˆ†ã®ç®¡ç†ä¸‹ã«ç½®ãã¤ã¤ã€é«˜ã„åˆ©ä¾¿æ€§ã‚’äº«å—ã§ãã¾ã™ã€‚ãœã²ã€ã”è‡ªèº«ã®ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã¿ã¦ãã ã•ã„ã€‚

---

# å‚è€ƒè³‡æ–™

- [Nextcloud å…¬å¼ã‚µã‚¤ãƒˆ](https://nextcloud.com/)
- [Nextcloud ç®¡ç†è€…ãƒãƒ‹ãƒ¥ã‚¢ãƒ«](https://docs.nextcloud.com/server/latest/admin_manual/)
- [Nginx å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nginx.org/en/docs/)
- [Let's Encrypt å…¬å¼ã‚µã‚¤ãƒˆ](https://letsencrypt.org/)
- [Certbot å…¬å¼ã‚µã‚¤ãƒˆ](https://certbot.eff.org/)
- [MySQL å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://dev.mysql.com/doc/)
